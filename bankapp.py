from flask import Flask,render_template,request
from model import pred
obj = pred()
bankapp = Flask(__name__)

@bankapp.route('/')
def index():
    return render_template("profile.html")

@bankapp.route('/backend', methods=['post'])
def classify():
    a1 = request.form.get("contract")
    a2 = request.form.get("gender")
    a3 = request.form.get("car")
    a4 = request.form.get("realty")
    a5 = request.form.get("income")
    a6 = request.form.get("annuity")
    a7 = request.form.get("goods price")
    a8 = request.form.get("suite")
    a9 = request.form.get("income type")
    a10 = request.form.get("education")
    a11 = request.form.get("family status")
    a12 = request.form.get("housing type")
    a13 = request.form.get("region population")
    a14 = request.form.get("days birth")
    a15 = request.form.get("days employed")
    a16 = request.form.get("days registration")
    a17 = request.form.get("days id publish")
    a18 = request.form.get("car age")
    a19 = request.form.get("mobile")
    a20 = request.form.get("work phone")
    a21 = request.form.get("count mobile")
    a22 = request.form.get("phone")
    a23 = request.form.get("email")
    a24 = request.form.get("occupation")
    a25 = request.form.get("fam member")
    a26 = request.form.get("reg rating client")
    a27 = request.form.get("weekday")
    a28 = request.form.get("hour appr process start")
    a29 = request.form.get("reg region not live region")
    a30 = request.form.get("reg region not work region")
    a31 = request.form.get("live reg not work region")
    a32 = request.form.get("reg city not live city")
    a33 = request.form.get("reg city not work city")
    a34 = request.form.get("live city not work city")
    a35 = request.form.get("organization")
    a36 = request.form.get("ext source1")
    a37 = request.form.get("ext source2")
    a38 = request.form.get("ext source3")
    a39 = request.form.get("fondkapremont")
    a40 = request.form.get("housetype")
    a41 = request.form.get("wallsmaterial")
    a42 = request.form.get("emergency")
    a43 = request.form.get("obs 60 cnt sc")
    a44 = request.form.get("def 60 cnt sc")
    a45 = request.form.get("days last phone change")
    doc2 = request.form.get("doc2")
    doc3 = request.form.get("doc3")
    doc4 = request.form.get("doc4")
    doc5 = request.form.get("doc5")
    doc6 = request.form.get("doc6")
    doc7 = request.form.get("doc7")
    doc8 = request.form.get("doc8")
    doc9 = request.form.get("doc9")
    doc10 = request.form.get("doc10")
    doc11 = request.form.get("doc11")
    doc12 = request.form.get("doc12")
    doc13 = request.form.get("doc13")
    doc14 = request.form.get("doc14")
    doc15 = request.form.get("doc15")
    doc16 = request.form.get("doc16")
    doc17 = request.form.get("doc17")
    doc18 = request.form.get("doc18")
    doc19 = request.form.get("doc19")
    doc20 = request.form.get("doc20")
    doc21 = request.form.get("doc21")
    info = [[a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12,a13,a14,a15,a16,a17,a18,a19,a20,a21,a22,a23,a24,a25,a26,a27,a28,a29,a30,a31,a32,a33,a34,a35,a36,a37,a38,a39,a40,a41,a42,a43,a44,a45,doc2,doc3,doc4,doc5,doc6,doc7,doc8,doc9,doc10,doc11,doc12,doc13,doc14,doc15,doc16,doc17,doc18,doc19,doc20,doc21]]
    result = obj.find(info)
    if result==0:
        return "Customer may not default the loan"
    elif result==1:
        return "Customer may default the loan"
    else:
        return "Invalid Inputs"


bankapp.run(debug=True)